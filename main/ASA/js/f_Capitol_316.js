var from = "";
$(document).ready(function () {
    // Initialize form variable
    from = $("#formDenShort").val();

    // Initial calculation
     f_Capitol_405_col4();
    // Attach event listener to all input fields initially present
    $("input:not([type='button']):not([readonly]):not([disabled])").on("change", function (e) {
        f_Capitol_405_col4();
    });

    // Use event delegation to handle dynamically added rows
    $(document).on("change", "input:not([type='button']):not([readonly]):not([disabled])", function (e) {
        f_Capitol_405_col4();
    });
});

function f_Capitol_405_col4() {
    // Variable declarations for each row in column 4
    var R001_C1 = $("#6_316_14770_001_1");
    var R001_C2 = $("#6_316_14770_001_2");
    var sum_R001_C1 = 0;
    var sum_R001_C2 = 0;

    var rowIDs = [
        "051", "040", "031", "112", "056", "070", "100", "124", "156", "196", "191", "208", "818", "756", "784",
        "233", "250", "268", "276", "300", "376", "380", "392", "398", "417", "428", "440", "499", "528",
        "616", "620", "826", "203", "642", "643", "688", "703", "705", "724", "840", "752", "762", "764",
        "788", "792", "795", "804", "348", "860", "036", "008", "012", "016", "660", "024", "020", "028",
        "530", "446", "032", "533", "004", "044", "050", "052", "048", "084", "204", "060", "068", "072",
        "076", "092", "096", "854", "108", "064", "548", "336", "862", "850", "626", "704", "266", "332",
        "328", "270", "288", "312", "320", "254", "324", "624", "292", "340", "308", "304", "316", "262",
        "212", "214", "180", "894", "732", "882", "716", "356", "360", "400", "368", "364", "372", "887",
        "132", "116", "120", "634", "404", "296", "170", "174", "178", "408", "188", "384", "192", "414",
        "418", "426", "430", "422", "434", "438", "442", "480", "478", "807", "450", "454", "458", "466",
        "462", "470", "504", "474", "584", "484", "508", "492", "798", "496", "500", "104", "516", "520",
        "524", "562", "566", "558", "570", "554", "540", "578", "830", "574", "512", "136", "184", "833",
        "654", "586", "585", "591", "598", "600", "604", "612", "630", "410", "638", "646", "222", "674",
        "678", "682", "748", "580", "690", "686", "666", "670", "659", "662", "694", "702", "760", "090",
        "706", "736", "740", "158", "834", "166", "796", "768", "772", "776", "780", "800", "876", "858",
        "234", "583", "242", "608", "246", "238", "258", "140", "744", "144", "218", "226", "232", "231",
        "710", "388", "896", "898", "152", "999", "352", "344"
    ];

    // Iterate over each row ID to compute the sum
    rowIDs.forEach(function (rowID) {
        var variable1 = $("#6_316_" + getMDID(rowID) + "_" + rowID + "_1");
        var value1 = parseInt(variable1.val()) || 0;
        sum_R001_C1 += value1;

        var variable2 = $("#6_316_" + getMDID(rowID) + "_" + rowID + "_2");
        var value2 = parseInt(variable2.val()) || 0;
        sum_R001_C2 += value2;
    });

    // Set R001 to be readonly
    R001_C1.prop("readonly", true);
    R001_C2.prop("readonly", true);
    // Update R001 with the computed sum
    R001_C1.val(sum_R001_C1 === 0 ? "" : sum_R001_C1);
    R001_C2.val(sum_R001_C2 === 0 ? "" : sum_R001_C2);
}


function getMDID(rowID) {
    var mdidMapping = {
        "051": "100011478", "040": "100011479", "031": "100011480", "112": "100011481",
        "056": "100011482", "070": "100011483", "100": "100011484", "124": "100011485", "156": "100011486",
        "196": "100011487", "191": "100011488", "208": "100011489", "818": "100011490", "756": "100011491",
        "784": "100011492", "233": "100011493", "250": "100011494", "268": "100011495", "276": "100011496",
        "300": "100011497", "376": "100011498", "380": "100011499", "392": "100011500", "398": "100011501",
        "417": "100011502", "428": "100011503", "440": "100011504", "499": "100011505", "528": "100011506",
        "616": "100011507", "620": "100011508", "826": "100011509", "203": "100011510", "642": "100011511",
        "643": "100011512", "688": "100011513", "703": "100011514", "705": "100011515", "724": "100011516",
        "840": "100011517", "752": "100011518", "762": "100011519", "764": "100011520", "788": "100011521",
        "792": "100011522", "795": "100011523", "804": "100011524", "348": "100011525", "860": "100011526",
        "036": "100011528", "008": "100011530", "012": "100011531", "016": "100011532", "660": "100011533",
        "024": "100011534", "020": "100011535", "028": "100011536", "530": "100011537", "446": "100011538",
        "032": "100011539", "533": "100011542", "004": "100011543", "044": "100011544", "050": "100011545",
        "052": "100011546", "048": "100011547", "084": "100011549", "204": "100011551", "060": "100011552",
        "068": "100011554", "072": "100011556", "076": "100011557", "092": "100011558", "096": "100011559",
        "854": "100011560", "108": "100011561", "064": "100011562", "548": "100011563", "336": "100011564",
        "862": "100011567", "850": "100011568", "626": "100011569", "704": "100011570", "266": "100011571",
        "332": "100011572", "328": "100011573", "270": "100011574", "288": "100011575", "312": "100011576",
        "320": "100011577", "254": "100011578", "324": "100011579", "624": "100011580", "292": "100011582",
        "340": "100011583", "308": "100011584", "304": "100011585", "316": "100011588", "262": "100011590",
        "212": "100011591", "214": "100011592", "180": "100011594", "894": "100011595", "732": "100011596",
        "882": "100011597", "716": "100011598", "356": "100011600", "360": "100011601", "400": "100011602",
        "368": "100011603", "364": "100011604", "372": "100011605", "887": "100011609", "132": "100011610",
        "116": "100011612", "120": "100011613", "634": "100011615", "404": "100011616", "296": "100011618",
        "170": "100011620", "174": "100011621", "178": "100011622", "408": "100011623", "188": "100011624",
        "384": "100011625", "192": "100011626", "414": "100011627", "418": "100011629", "426": "100011631",
        "430": "100011632", "422": "100011633", "434": "100011634", "438": "100011636", "442": "100011637",
        "480": "100011638", "478": "100011639", "807": "1000115299", "450": "100011640", "454": "100011642",
        "458": "100011643", "466": "100011644", "462": "100011645", "470": "100011646", "504": "100011647",
        "474": "100011648", "584": "100011649", "484": "100011650", "508": "100011651", "492": "100011652",
        "798": "46369", "496": "100011653", "500": "100011654", "104": "100011655", "516": "100011656",
        "520": "100011657", "524": "100011658", "562": "100011659", "566": "100011660", "558": "100011662",
        "570": "100011663", "554": "100011664", "540": "100011665", "578": "100011666", "830": "100011667",
        "574": "100011668", "512": "100011670", "136": "100011671", "184": "100011672", "833": "100011673",
        "654": "100011674", "586": "100011675", "585": "100011676", "591": "100011677", "598": "100011678",
        "600": "100011679", "604": "100011680", "612": "100011681", "630": "100011684", "410": "100011685",
        "638": "100011686", "646": "100011688", "222": "100011690", "674": "100011691", "678": "100011692",
        "682": "100011693", "748": "100011694", "580": "100011695", "690": "100011696", "686": "100011697",
        "666": "100011698", "670": "100011699", "659": "100011700", "662": "100011701", "694": "100011703",
        "702": "100011704", "760": "100011705", "090": "100011709", "706": "100011710", "736": "100011711",
        "740": "100011712", "158": "100011717", "834": "100011718", "166": "46089", "796": "100011719",
        "768": "100011720", "772": "100011721", "776": "100011722", "780": "100011723", "800": "100011728",
        "876": "100011731", "858": "100011732", "234": "100011733", "583": "100011734", "242": "100011735",
        "608": "100011736", "246": "100011737", "238": "100011738", "258": "100011740", "140": "100011742",
        "744": "100011749", "144": "100011750", "218": "100011751", "226": "100011752", "232": "100011753",
        "231": "100011755", "710": "100011756", "388": "100011757", "896": "100011759", "898": "100011760",
        "152": "100012138", "999": "14774", "352": "100012139", "344": "100012140"
    };
    return mdidMapping[rowID] || "UNKNOWN_MDID";
}


