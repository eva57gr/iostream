var from = "";
$(document).ready(function () {
    // Initialize form variable
    from = $("#formDenShort").val();

    // Initial calculation
     f_Capitol_405_col4();
    // Attach event listener to all input fields initially present
    $("input:not([type='button']):not([readonly]):not([disabled])").on("change", function (e) {
        f_Capitol_405_col4();
    });

    // Use event delegation to handle dynamically added rows
    $(document).on("change", "input:not([type='button']):not([readonly]):not([disabled])", function (e) {
        f_Capitol_405_col4();
    });
});

function f_Capitol_405_col4() {
    // Variable declarations for each row in column 4
    var R1_C4 = $("#44_405_69007_1_4");
    var sum_R1_C4 = 0;

    // List of all rows based on the provided data
    var rowIDs = [
        2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
        41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,
        61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,
        81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100,
        101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120,
        121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140,
        141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160,
        161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180,
        181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,
        201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220,
        221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,
        241, 242, 243, 244, 245, 246, 247, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261,
        262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281,
        282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301,
        302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321,
        322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341,
        342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359
    ];

    // Iterate over each row ID to compute the sum
    rowIDs.forEach(function (rowID) {
        var variable = $("#44_405_" + getMDID(rowID) + "_" + rowID + "_4");
        var value = parseInt(variable.val()) || 0;
        sum_R1_C4 += value;
    });

    // Set R1_C4 to be readonly
    R1_C4.prop("readonly", true);

    // Update R1_C4 with the computed sum
    R1_C4.val(sum_R1_C4 === 0 ? "" : sum_R1_C4);
}


// Mapping of RIND to MDID
function getMDID(rowID) {
    var mdidMapping = {
        2: "69875", 3: "68979", 4: "68963", 5: "68964",
        6: "69096", 7: "69071", 8: "68971", 9: "68989", 10: "68958",
        11: "68926", 12: "68899", 13: "68914", 14: "68972", 15: "68915",
        16: "69031", 17: "69032", 18: "68965", 19: "68959", 20: "68929",
        21: "69059", 22: "68870", 23: "68874", 24: "68892", 25: "68916",
        26: "69118", 27: "68953", 28: "68954", 29: "69119", 30: "68922",
        31: "68998", 32: "69092", 33: "68930", 34: "68908", 35: "68955",
        36: "68893", 37: "68900", 38: "68993", 39: "69011", 40: "68880",
        41: "69008", 42: "68894", 43: "68943", 44: "69077", 45: "68966",
        46: "68909", 47: "69023", 48: "69064", 49: "69033", 50: "69034",
        51: "69078", 52: "69001", 53: "69079", 54: "69111", 55: "68936",
        56: "68917", 57: "69040", 58: "68881", 59: "69046", 60: "69109",
        61: "68939", 62: "69035", 63: "69112", 64: "68886", 65: "68985",
        66: "69024", 67: "68882", 68: "68901", 69: "69019", 70: "68986",
        71: "68871", 72: "68878", 73: "69113", 74: "69097", 75: "68902",
        76: "69015", 77: "68918", 78: "69016", 79: "68967", 80: "69093",
        81: "68980", 82: "69025", 83: "68947", 84: "68973", 85: "68875",
        86: "68960", 87: "68872", 88: "68873", 89: "68987", 90: "69087",
        91: "69094", 92: "68913", 93: "68994", 94: "69009", 95: "68903",
        96: "69018", 97: "69002", 98: "69114", 99: "68931", 100: "69065",
        101: "68976", 102: "69020", 103: "68956", 104: "69072", 105: "69003",
        106: "69080", 107: "69115", 108: "69029", 109: "68895", 110: "68904",
        111: "69060", 112: "69120", 113: "68968", 114: "68883", 115: "69073",
        116: "69116", 117: "69098", 118: "68887", 119: "68995", 120: "69036",
        121: "68920", 122: "69021", 123: "69037", 124: "69102", 125: "69030",
        126: "68921", 127: "69047", 128: "68932", 129: "68905", 130: "69052",
        131: "69081", 132: "69099", 133: "69055", 134: "68927", 135: "69110",
        136: "68948", 137: "68990", 138: "68977", 139: "68944", 140: "68969",
        141: "69026", 142: "69041", 143: "69012", 144: "68928", 145: "69085",
        146: "69053", 147: "68876", 148: "69038", 149: "69088", 150: "69004",
        151: "68949", 152: "68923", 153: "69039", 154: "69067", 155: "68933",
        156: "68961", 157: "69042", 158: "69048", 159: "68945", 160: "68884",
        161: "68952", 162: "69005", 163: "69013", 164: "69074", 165: "68919",
        166: "69100", 167: "69054", 168: "68974", 169: "69117", 170: "68975",
        171: "68988", 172: "68888", 173: "68950", 174: "68940", 175: "68879",
        176: "68991", 177: "68981", 178: "69101", 179: "69061", 180: "68992",
        181: "68885", 182: "69027", 183: "69082", 184: "68996", 185: "68941",
        186: "69049", 187: "69066", 188: "69056", 189: "68999", 190: "68934",
        191: "68889", 192: "69068", 193: "69086", 194: "68896", 195: "69050",
        196: "69089", 197: "69103", 198: "69006", 199: "68982", 200: "68962",
        201: "68935", 202: "69051", 203: "68912", 204: "68978", 205: "68937",
        206: "68942", 207: "69090", 208: "68938", 209: "68983", 210: "69091",
        211: "68906", 212: "69010", 213: "68970", 214: "68907", 215: "69106",
        216: "69014", 217: "68910", 218: "69017", 219: "68877", 220: "69104",
        221: "69083", 222: "69121", 223: "68897", 224: "69069", 225: "68957",
        226: "69062", 227: "69075", 228: "69105", 229: "68946", 230: "68984",
        231: "69043", 232: "68911", 233: "68898", 234: "69063", 235: "68890",
        236: "69057", 237: "68891", 238: "69044", 239: "69058", 240: "69028",
        241: "69107", 242: "68997", 243: "68924", 244: "69108", 245: "68951",
        246: "69022", 247: "69095", 249: "69000", 250: "69070", 251: "76242",
        252: "76243", 253: "76244", 254: "76245", 255: "76246", 256: "76247",
        257: "76248", 258: "76249", 259: "76250", 260: "76251", 261: "76397",
        262: "76398", 263: "76399", 264: "76400", 265: "76401", 266: "76402",
        267: "76403", 268: "76404", 269: "76405", 270: "76406", 271: "76407",
        272: "76408", 273: "76409", 274: "76410", 275: "76411", 276: "76412",
        277: "76413", 278: "76414", 279: "76415", 280: "76416", 281: "76417",
        282: "76418", 283: "76419", 284: "76420", 285: "76421", 286: "76422",
        287: "76423", 288: "76424", 289: "76425", 290: "76426", 291: "76427",
        292: "76428", 293: "76429", 294: "76430", 295: "76431", 296: "76432",
        297: "76433", 298: "76434", 299: "76435", 300: "76436", 301: "76437",
        302: "76438", 303: "76439", 304: "76440", 305: "76441", 306: "76442",
        307: "76443", 308: "76444", 309: "76445", 310: "76446", 311: "76447",
        312: "76448", 313: "76449", 314: "76450", 315: "76451", 316: "76452",
        317: "76453", 318: "76454", 319: "76455", 320: "76456", 321: "76457",
        322: "76458", 323: "76459", 324: "76460", 325: "76461", 326: "76462",
        327: "76463", 328: "76464", 329: "76465", 330: "76466", 331: "76467",
        332: "76468", 333: "76469", 334: "76470", 335: "76471", 336: "76472",
        337: "76473", 338: "76474", 339: "76475", 340: "76476", 341: "76477",
        342: "76478", 343: "76479", 344: "76480", 345: "76481", 346: "76482",
        347: "76483", 348: "76484", 349: "76485", 350: "76486", 351: "76487",
        352: "76488", 353: "76489", 354: "76490", 355: "76491", 356: "76492",
        357: "76493", 358: "76494", 359: "76495"
    };
    return mdidMapping[rowID] || "UNKNOWN_MDID";
}

